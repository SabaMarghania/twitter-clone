{"ast":null,"code":"var _jsxFileName = \"/home/sab4/Desktop/twitter-clone/client/src/components/Poll.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport './Poll.css';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport Axios from 'axios';\nimport Modal from '@material-ui/core/Modal';\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Poll({\n  title,\n  option1,\n  option2,\n  option3,\n  id\n}) {\n  _s();\n\n  const [checked, setChecked] = useState(false);\n  const [checked1, setChecked1] = useState(false);\n  const [checked2, setChecked2] = useState(false);\n  let [count, setCount] = useState(0);\n  let [count1, setCount1] = useState(0);\n  let [count2, setCount2] = useState(0);\n  const [Isopen, setIsOpen] = useState(false);\n  const [update, setUpdate] = useState(false);\n  const [open, setOpen] = useState(false); //poll edit\n\n  const [newTitle, setNewTitle] = useState('');\n  const [newOption1, setNewOption1] = useState('');\n  const [newOption2, setNewOption2] = useState('');\n  const [newOption3, setNewOption3] = useState(''); //modal\n\n  const handleClick = () => {\n    setOpen(prev => !prev);\n  };\n\n  const handleClickAway = () => {\n    setOpen(false);\n  };\n\n  const func = () => {\n    setCount(count1 || count2 === 1 ? 0 : 1);\n    setChecked(checked1 || checked2 ? false : true);\n  };\n\n  const func1 = () => {\n    setCount1(count || count2 === 1 ? 0 : 1);\n    setChecked1(checked || checked2 ? false : true);\n  };\n\n  const func2 = () => {\n    setCount2(count || count1 === 1 ? 0 : 1);\n    setChecked2(checked || checked1 ? false : true);\n  };\n\n  const delFun = () => {\n    setChecked(false);\n    setChecked1(false);\n    setChecked2(false);\n    setCount(0);\n    setCount1(0);\n    setCount2(0);\n  }; //edit & del modal\n\n\n  const handleOpen = () => {\n    setIsOpen(true);\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n  }; //edit post\n\n\n  const editPoll = () => {\n    setUpdate(true);\n    setTimeout(() => {\n      setIsOpen(false);\n    }, 500);\n    Axios.put(\"http://localhost:3001/editPoll\", {\n      id: id,\n      newTitle: newTitle,\n      newOption1: newOption1,\n      newOption2: newOption2,\n      newOption3: newOption3\n    });\n  }; //delete post\n\n\n  const delPoll = () => {\n    Axios.delete(`http://localhost:3001/deletePoll/${id}`);\n  };\n\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n\n  const body = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit_poll_modal_body\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit the poll\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), update && /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: 'green',\n        marginTop: '10px'\n      },\n      children: \"Poll has been updated\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit_poll_modal_body_cont\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setNewTitle(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Title..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setNewOption1(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Option 1..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setNewOption2(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Option 2..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setNewOption3(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Option 3..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit_poll_modal_button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => editPoll(id),\n        type: \"submit\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"poll\",\n    children: [/*#__PURE__*/_jsxDEV(Avatar, {\n      src: userInfo === null || userInfo === void 0 ? void 0 : userInfo.pic,\n      style: {\n        width: '50px',\n        height: '50px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post__info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post__info_cont\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post__info_names\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: userInfo === null || userInfo === void 0 ? void 0 : userInfo.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"@\", userInfo === null || userInfo === void 0 ? void 0 : userInfo.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post__info__edit\",\n          children: /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n            onClickAway: handleClickAway,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post_modal_root\",\n              children: [/*#__PURE__*/_jsxDEV(MoreHorizIcon, {\n                onClick: handleClick,\n                style: {\n                  cursor: 'pointer'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 25\n              }, this), open ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post_modal_dropdown\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => delPoll(id),\n                  className: \"post_modal__option\",\n                  children: [/*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {\n                    style: {\n                      color: 'red'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: handleOpen,\n                  className: \"post_modal__option\",\n                  children: [/*#__PURE__*/_jsxDEV(EditOutlinedIcon, {\n                    style: {\n                      color: 'black',\n                      fontSize: '20px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      color: '#000'\n                    },\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 29\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"poll_cont\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"poll__title\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"poll__options\",\n          children: [option1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"poll__option\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"poll__option_cont\",\n                onClick: func,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: checked ? '50px' : 'auto',\n                    background: checked ? 'rgb(202, 202, 202)' : 'none'\n                  },\n                  className: \"poll__option_count\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"option\",\n                    id: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"poll__option__info\",\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: option1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 27\n            }, this)\n          }, void 0, false), option2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poll__option\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"poll__option_cont\",\n              onClick: func1,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: checked1 ? '50px' : 'auto',\n                  background: checked1 ? 'rgb(202, 202, 202)' : 'none'\n                },\n                className: \"poll__option_count\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"option\",\n                  id: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 34\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"poll__option__info\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: option2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 34\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: count1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 32\n          }, this), option3 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poll__option\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"poll__option_cont\",\n              onClick: func2,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: checked2 ? '50px' : 'auto',\n                  background: checked2 ? 'rgb(202, 202, 202)' : 'none'\n                },\n                className: \"poll__option_count\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"option\",\n                  id: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"poll__option__info\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: option3\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 39\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: count2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: delFun,\n        type: \"submit\",\n        children: \"Delete Choice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: Isopen,\n      onClose: handleClose,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      children: body\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Poll, \"5skuWMjFDPeKrW8H0hvD5SfbKt0=\", false, function () {\n  return [useSelector];\n});\n\n_c = Poll;\nexport default Poll;\n\nvar _c;\n\n$RefreshReg$(_c, \"Poll\");","map":{"version":3,"sources":["/home/sab4/Desktop/twitter-clone/client/src/components/Poll.js"],"names":["React","useState","Avatar","MoreHorizIcon","ClickAwayListener","DeleteOutlineIcon","EditOutlinedIcon","Axios","Modal","useSelector","Poll","title","option1","option2","option3","id","checked","setChecked","checked1","setChecked1","checked2","setChecked2","count","setCount","count1","setCount1","count2","setCount2","Isopen","setIsOpen","update","setUpdate","open","setOpen","newTitle","setNewTitle","newOption1","setNewOption1","newOption2","setNewOption2","newOption3","setNewOption3","handleClick","prev","handleClickAway","func","func1","func2","delFun","handleOpen","handleClose","editPoll","setTimeout","put","delPoll","delete","userLogin","state","userInfo","body","color","marginTop","e","target","value","pic","width","height","username","cursor","fontSize","background"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport './Poll.css'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport Axios from 'axios'\nimport Modal from '@material-ui/core/Modal';\nimport {  useSelector } from \"react-redux\";\n\nfunction Poll({title,option1,option2,option3,id}) {\n    const [checked,setChecked] = useState(false)\n    const [checked1,setChecked1] = useState(false)\n    const [checked2,setChecked2] = useState(false)\n    let [count,setCount] = useState(0)\n    let [count1,setCount1] = useState(0)\n    let [count2,setCount2] = useState(0)\n    const [Isopen, setIsOpen] = useState(false);\n    const [update, setUpdate] = useState(false);\n    const [open, setOpen] = useState(false);\n\n    //poll edit\n    const [newTitle, setNewTitle] = useState('')\n    const [newOption1, setNewOption1] = useState('')\n    const [newOption2, setNewOption2] = useState('')\n    const [newOption3, setNewOption3] = useState('')\n\n //modal\n const handleClick = () => {\n    setOpen((prev) => !prev);\n  };\n\n  const handleClickAway = () => {\n    setOpen(false);\n  };\n\n        const func = () =>{\n            setCount(count1 || count2===1 ? 0 : 1);\n            setChecked(checked1 || checked2 ? false : true)\n        } \n        const func1 = () =>{\n            setCount1(count || count2===1 ? 0 : 1);\n            setChecked1(checked || checked2 ? false : true)\n        }\n        const func2 = () =>{\n            setCount2(count || count1===1 ? 0 : 1);\n            setChecked2(checked || checked1 ? false : true)\n        }\n        const delFun = () =>{\n            setChecked(false)\n            setChecked1(false)\n            setChecked2(false)\n            setCount(0)\n            setCount1(0)\n            setCount2(0)\n        }\n\n         //edit & del modal\n  const handleOpen = () => {\n    setIsOpen(true);\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  //edit post\n  const editPoll = () =>{\n    setUpdate(true)\n    \n    setTimeout(()=>{\n        setIsOpen(false);\n\n    },500)\n    Axios.put(\"http://localhost:3001/editPoll\",{\n        id:id,\n        newTitle:newTitle,\n        newOption1:newOption1,\n        newOption2:newOption2,\n        newOption3:newOption3,\n     })\n   \n  }\n  //delete post\n  const delPoll = () =>{\n    Axios.delete(`http://localhost:3001/deletePoll/${id}`)\n   \n  }\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const {userInfo } = userLogin;\n\n  const body = (\n    <div className=\"edit_poll_modal_body\">\n        <h1>Edit the poll</h1>\n\n            {update && <h1 style={{color:'green',marginTop:'10px'}}>Poll has been updated</h1>}\n        <div className=\"edit_poll_modal_body_cont\">\n            <input onChange={(e)=>{setNewTitle(e.target.value)}} type=\"text\" placeholder='Title..' />\n            <input onChange={(e)=>{setNewOption1(e.target.value)}} type=\"text\" placeholder='Option 1..' />\n            <input onChange={(e)=>{setNewOption2(e.target.value)}} type=\"text\" placeholder='Option 2..' />\n            <input onChange={(e)=>{setNewOption3(e.target.value)}} type=\"text\" placeholder='Option 3..' />\n        </div>\n        <div className=\"edit_poll_modal_button\">\n            <button onClick={()=>editPoll(id)} type='submit'>Edit</button>\n        </div>\n   \n    </div>\n  );\n    return (\n        <div className='poll'>\n            <Avatar src={userInfo?.pic} style={{width:'50px',height:'50px'}} />\n            <div className=\"post__info\">\n            <div className=\"post__info_cont\">\n                <div className=\"post__info_names\">\n                    <h4>{userInfo?.username}</h4>\n                    <p>@{userInfo?.username}</p>   \n                  \n                </div>\n                <div className=\"post__info__edit\">\n                   \n                    <ClickAwayListener onClickAway={handleClickAway}>\n                        <div className='post_modal_root'>\n                        <MoreHorizIcon onClick={handleClick} style={{cursor:'pointer'}}/>\n                            {open ? (\n                            <div className='post_modal_dropdown'>\n                                <div onClick={()=>delPoll(id)} className=\"post_modal__option\">\n                                    <DeleteOutlineIcon style={{color:'red'}}/>\n                                    <h4>Delete</h4>\n                                </div>\n                                <div onClick={handleOpen} className=\"post_modal__option\">\n                                    <EditOutlinedIcon style={{color:'black',fontSize:'20px'}}/>\n                                    <h4 style={{color:'#000'}} >Edit</h4>\n                                </div>\n                            </div>\n                            ) : null}\n                        </div>\n                        </ClickAwayListener>\n                </div>\n                \n                </div>\n             \n                <div className=\"poll_cont\">\n                    <div className=\"poll__title\">\n                        <h4>{title}</h4>\n                    </div>\n                   \n                      <div className=\"poll__options\">\n                    {option1 &&\n                    <>\n                          <div className=\"poll__option\">\n                              <div className=\"poll__option_cont\"  onClick={func}>\n                               <div style={{width: checked ? '50px' : 'auto',background: checked ? 'rgb(202, 202, 202)' : 'none'}} className=\"poll__option_count\">\n                                   \n                                <input type=\"radio\" name=\"option\" id=\"\"/>\n                                <div className=\"poll__option__info\">\n                                    <h4>{option1}</h4>\n                                </div>\n                               </div>\n                              </div>\n                              <p>{count}</p>\n                         \n                          \n                        </div>\n                    </>\n                    }\n                    {option2 &&   \n                               <div className=\"poll__option\">\n                               <div className=\"poll__option_cont\"  onClick={func1}>\n                                <div style={{width: checked1 ? '50px' : 'auto',background: checked1 ? 'rgb(202, 202, 202)' : 'none'}} className=\"poll__option_count\">\n                                    \n                                 <input type=\"radio\" name=\"option\" id=\"\"/>\n                                 <div className=\"poll__option__info\">\n                                     <h4>{option2}</h4>\n                                 </div>\n                              \n                                </div>\n                               </div>\n                               <p>{count1}</p>\n                          \n                           \n                         </div>\n                        }\n                    {option3 && \n                                <div className=\"poll__option\">\n                                <div className=\"poll__option_cont\"  onClick={func2}>\n                                 <div style={{width: checked2 ? '50px' : 'auto',background: checked2 ? 'rgb(202, 202, 202)' : 'none'}} className=\"poll__option_count\">\n                                     \n                                  <input type=\"radio\" name=\"option\" id=\"\"/>\n                                  <div className=\"poll__option__info\">\n                                      <h4>{option3}</h4>\n                                  </div>\n                               \n                                 </div>\n                                </div>\n                                <p>{count2}</p>\n                           \n                            \n                          </div>\n                    }\n                    </div>\n                  \n                    </div>\n\n                    <button onClick={delFun} type=\"submit\">Delete Choice</button>\n                </div>\n                <Modal\n                open={Isopen}\n                onClose={handleClose}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n             >\n                {body}\n            </Modal>\n        </div>\n    )\n}\n\nexport default Poll\n"]},"metadata":{},"sourceType":"module"}