{"ast":null,"code":"import _regeneratorRuntime from\"/home/sab4/Desktop/twitter-clone/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sab4/Desktop/twitter-clone/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{USER_LOGIN_FAIL,USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGOUT,USER_REGISTER_FAIL,USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS}from\"../constants/userConstant\";import axios from\"axios\";export var logout=function logout(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:localStorage.removeItem(\"userInfo\");dispatch({type:USER_LOGOUT});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var login=function login(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:USER_LOGIN_REQUEST});config={headers:{\"Content-type\":\"application/json\"}};_context2.next=5;return axios.post(\"http://localhost:3001/login\",{email:email,password:password},config);case 5:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;dispatch({type:USER_LOGIN_SUCCESS,payload:data});dispatch({type:USER_REGISTER_SUCCESS,payload:data});localStorage.setItem(\"userInfo\",JSON.stringify(data));console.log(data);_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);dispatch({type:USER_LOGIN_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var register=function register(username,email,password,pic){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:USER_REGISTER_REQUEST});config={headers:{\"Content-type\":\"application/json\"}};_context3.next=5;return axios.post(\"http://localhost:3001/register\",{username:username,email:email,pic:pic,password:password},config);case 5:_yield$axios$post2=_context3.sent;data=_yield$axios$post2.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem(\"userInfo\",JSON.stringify(data));console.log(data);_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);dispatch({type:USER_REGISTER_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/sab4/Desktop/twitter-clone/client/src/actions/userAction.js"],"names":["USER_LOGIN_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGOUT","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","axios","logout","dispatch","localStorage","removeItem","type","login","email","password","config","headers","post","data","payload","setItem","JSON","stringify","console","log","response","message","register","username","pic"],"mappings":"iPACA,OACEA,eADF,CAEEC,kBAFF,CAGEC,kBAHF,CAIEC,WAJF,CAKEC,kBALF,CAMEC,qBANF,CAOEC,qBAPF,KAQS,2BART,CASE,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,kGAAM,iBAAOC,QAAP,kHAC1BC,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACAF,QAAQ,CAAC,CAAEG,IAAI,CAAET,WAAR,CAAD,CAAR,CAF0B,sDAAN,gEAAf,CAMP,MAAO,IAAMU,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAQC,QAAR,kGAAqB,kBAAON,QAAP,yKAEtCA,QAAQ,CAAC,CAAEG,IAAI,CAAEX,kBAAR,CAAD,CAAR,CACMe,MAHgC,CAGvB,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CADI,CAHuB,wBASfV,CAAAA,KAAK,CAACW,IAAN,CACrB,6BADqB,CAErB,CAAEJ,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAFqB,CAGrBC,MAHqB,CATe,yCAS9BG,IAT8B,mBAS9BA,IAT8B,CAetCV,QAAQ,CAAC,CAAEG,IAAI,CAAEV,kBAAR,CAA4BkB,OAAO,CAAED,IAArC,CAAD,CAAR,CACAV,QAAQ,CAAC,CAAEG,IAAI,CAAEN,qBAAR,CAA+Bc,OAAO,CAAED,IAAxC,CAAD,CAAR,CAEAT,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAjC,EACAK,OAAO,CAACC,GAAR,CAAYN,IAAZ,EAnBsC,qFAqBtCV,QAAQ,CAAC,CACPG,IAAI,CAAEZ,eADC,CAEPoB,OAAO,CACL,aAAMM,QAAN,EAAkB,aAAMA,QAAN,CAAeP,IAAf,CAAoBQ,OAAtC,CACI,aAAMD,QAAN,CAAeP,IAAf,CAAoBQ,OADxB,CAEI,aAAMA,OALL,CAAD,CAAR,CArBsC,uEAArB,kEAAd,CAkCT,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAWf,KAAX,CAAkBC,QAAlB,CAA2Be,GAA3B,kGAAmC,kBAAOrB,QAAP,0KAErDA,QAAQ,CAAC,CAAEG,IAAI,CAAEP,qBAAR,CAAD,CAAR,CAEMW,MAJ+C,CAItC,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CADI,CAJsC,wBAU9BV,CAAAA,KAAK,CAACW,IAAN,CAAW,gCAAX,CACrB,CAAEW,QAAQ,CAARA,QAAF,CAAaf,KAAK,CAALA,KAAb,CAAmBgB,GAAG,CAAHA,GAAnB,CAAwBf,QAAQ,CAARA,QAAxB,CADqB,CAErBC,MAFqB,CAV8B,0CAU7CG,IAV6C,oBAU7CA,IAV6C,CAerDV,QAAQ,CAAC,CAAEG,IAAI,CAAEN,qBAAR,CAA+Bc,OAAO,CAAED,IAAxC,CAAD,CAAR,CAEAV,QAAQ,CAAC,CAAEG,IAAI,CAAEV,kBAAR,CAA4BkB,OAAO,CAAED,IAArC,CAAD,CAAR,CACAT,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAjC,EACAK,OAAO,CAACC,GAAR,CAAYN,IAAZ,EAnBqD,qFAqBrDV,QAAQ,CAAC,CACPG,IAAI,CAAER,kBADC,CAEPgB,OAAO,CACL,aAAMM,QAAN,EAAkB,aAAMA,QAAN,CAAeP,IAAf,CAAoBQ,OAAtC,CACI,aAAMD,QAAN,CAAeP,IAAf,CAAoBQ,OADxB,CAEI,aAAMA,OALL,CAAD,CAAR,CArBqD,uEAAnC,kEAAjB","sourcesContent":["\nimport {\n  USER_LOGIN_FAIL,\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGOUT,\n  USER_REGISTER_FAIL,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS,\n  } from \"../constants/userConstant\";\n  import axios from \"axios\";\n\n  export const logout = () => async (dispatch) => {\n    localStorage.removeItem(\"userInfo\");\n    dispatch({ type: USER_LOGOUT });\n  };\n  \n\n  export const login = (email, password) => async (dispatch) => {\n    try {\n      dispatch({ type: USER_LOGIN_REQUEST });\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n  \n      const { data } = await axios.post(\n        \"http://localhost:3001/login\",\n        { email, password },\n        config\n      );\n  \n      dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n      dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n  \n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      console.log(data)\n    } catch (error) {\n      dispatch({\n        type: USER_LOGIN_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n\n    }\n  };\n  \n\n\nexport const register = (username, email, password,pic) => async (dispatch) => {\n    try {\n      dispatch({ type: USER_REGISTER_REQUEST });\n  \n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n  \n      const { data } = await axios.post(\"http://localhost:3001/register\",\n        { username,  email,pic, password },\n        config\n      );\n  \n      dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n  \n      dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      console.log(data)\n    } catch (error) {\n      dispatch({\n        type: USER_REGISTER_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n  "]},"metadata":{},"sourceType":"module"}