{"ast":null,"code":"import _slicedToArray from\"/home/sab4/Desktop/twitter-clone/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{register}from\"../actions/userAction\";import TwitterIcon from'@material-ui/icons/Twitter';import'./Register.css';import ErrorMessage from'./ErrorMessage';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var history=_ref.history;//reg\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),birth=_useState2[0],setBirth=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"),_useState10=_slicedToArray(_useState9,2),pic=_useState10[0],setPic=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),confirmpassword=_useState12[0],setConfirmPassword=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),message=_useState14[0],setMessage=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),picMessage=_useState16[0],setPicMessage=_useState16[1];var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var error=userRegister.error,userInfo=userRegister.userInfo;//modal\n//\nvar postDetails=function postDetails(pics){if(pics===\"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"){return setPicMessage(\"Please Select an Image\");}setPicMessage(null);if(pics.type===\"image/jpeg\"||pics.type===\"image/png\"){var data=new FormData();data.append(\"file\",pics);data.append(\"upload_preset\",\"notezipper\");data.append(\"cloud_name\",\"piyushproj\");fetch(\"https://api.cloudinary.com/v1_1/piyushproj/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){setPic(data.url.toString());}).catch(function(err){console.log(err);});}else{return setPicMessage(\"Please Select an Image\");}};useEffect(function(){if(userInfo){history.push(\"/loginPage\");}},[history,userInfo]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmpassword){setMessage(\"Passwords do not match\");}else dispatch(register(username,email,password,pic,birth));};return/*#__PURE__*/_jsx(\"div\",{className:\"register\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login__modal_body\",children:[error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),message&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:message}),/*#__PURE__*/_jsx(TwitterIcon,{className:\"login__icon\",style:{fontSize:'40px',color:'rgb(54, 175, 231)'}}),/*#__PURE__*/_jsx(\"div\",{className:\"login__modal_body_title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Create your account\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__modal_body_cont\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);},type:\"text\",placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},type:\"password\",placeholder:\"Confirm Password\"}),picMessage&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:picMessage}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return postDetails(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"h4\",{children:\"Date of birth\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else.\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setBirth(e.target.value);},type:\"date\",placeholder:\"Choice 3\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login__modal_button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:submitHandler,type:\"submit\",children:\"Sign up\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"register__login\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/loginPage\",children:\"Sign in\"})]})})]})});}export default Register;","map":{"version":3,"sources":["/home/sab4/Desktop/twitter-clone/client/src/components/Register.js"],"names":["React","useState","useEffect","useDispatch","useSelector","register","TwitterIcon","ErrorMessage","Link","Register","history","birth","setBirth","email","setEmail","username","setUsername","password","setPassword","pic","setPic","confirmpassword","setConfirmPassword","message","setMessage","picMessage","setPicMessage","dispatch","userRegister","state","error","userInfo","postDetails","pics","type","data","FormData","append","fetch","method","body","then","res","json","url","toString","catch","err","console","log","push","submitHandler","e","preventDefault","fontSize","color","target","value","files"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { register } from \"../actions/userAction\";\nimport TwitterIcon from '@material-ui/icons/Twitter';\nimport './Register.css'\nimport ErrorMessage from './ErrorMessage'\nimport {\n    Link\n  } from \"react-router-dom\";\n\n\nfunction Register({history}) {\n\n    //reg\n    const [birth, setBirth] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [pic, setPic] = useState(\n        \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"\n      );\n    const [confirmpassword, setConfirmPassword] = useState(\"\");\n    const [message, setMessage] = useState(null);\n    const [picMessage, setPicMessage] = useState(null);\n    const dispatch = useDispatch();\n\n    const userRegister = useSelector((state) => state.userRegister);\n    const { error, userInfo } = userRegister;\n    //modal\n\n//\n\n  \nconst postDetails = (pics) => {\n    if (\n      pics ===\n      \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"\n    ) {\n      return setPicMessage(\"Please Select an Image\");\n    }\n    setPicMessage(null);\n    if (pics.type === \"image/jpeg\" || pics.type === \"image/png\") {\n      const data = new FormData();\n      data.append(\"file\", pics);\n      data.append(\"upload_preset\", \"notezipper\");\n      data.append(\"cloud_name\", \"piyushproj\");\n      fetch(\"https://api.cloudinary.com/v1_1/piyushproj/image/upload\", {\n        method: \"post\",\n        body: data,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setPic(data.url.toString());\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      return setPicMessage(\"Please Select an Image\");\n    }\n  };\n\n            useEffect(() => {\n                if (userInfo) {\n                    history.push(\"/loginPage\");\n                }\n            }, [history , userInfo]);\n\n            const submitHandler = (e) => {\n                e.preventDefault();\n\n                if (password !== confirmpassword) {\n                    setMessage(\"Passwords do not match\");\n                } else dispatch(register(username, email, password, pic, birth));\n            };\n\n    return (\n        <div className='register'>\n             \n            <div className=\"login__modal_body\">\n            {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\n        {message && <ErrorMessage variant=\"danger\">{message}</ErrorMessage>}\n                <TwitterIcon  className='login__icon' style={{fontSize:'40px',color:'rgb(54, 175, 231)'}} />\n           \n            <div className=\"login__modal_body_title\">\n                <h2>Create your account</h2>\n            </div>\n            <div className=\"login__modal_body_cont\">\n                <input name='username'  onChange={(e)=>setUsername(e.target.value)} type=\"text\" placeholder='username' />\n                <input name='email'  onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder='Email' />\n                <input name='password' onChange={(e) => setPassword(e.target.value)} type=\"password\" placeholder='Password' />\n                <input name='confirmPassword'onChange={(e) => setConfirmPassword(e.target.value)} type=\"password\" placeholder='Confirm Password' />\n                {picMessage && (\n            <ErrorMessage variant=\"danger\">{picMessage}</ErrorMessage>\n          )}\n                <input type=\"file\" onChange={(e) => postDetails(e.target.files[0])}   />\n                   \n                    <h4>Date of birth</h4>\n                    <p>This will not be shown publicly. Confirm your own age,\n                        even if this account is for a business, a pet, or something else.</p>\n                <input onChange={(e)=>setBirth(e.target.value)}  type=\"date\" placeholder='Choice 3' />\n            </div>\n            <div className=\"login__modal_button\">\n                <button onClick={submitHandler} type='submit'>Sign up</button>\n            </div>\n            <div className=\"register__login\">\n                <p>Already have an account? <Link to='/loginPage'>Sign in</Link></p>\n            </div>\n        </div>\n        </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}